<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouSell Home</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Light mode styles */
        body {
            background-color: #f8f9fa;
            color: #212529;
        }

        .navbar, .footer, .report-problem {
            background-color: #f8f9fa;
            color: #212529;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #3e3e3e;
            color: #ffffff;
        }

        body.dark-mode .navbar, body.dark-mode .footer {
            background-color: #3e3e3e;
        }

        body.dark-mode a {
            color: #ffffff;
        }

        body.dark-mode .report-problem {
            background-color: #3e3e3e;
            color: #ffffff;
        }

        .welcome-text {
            text-align: center;
            margin: 20px 0;
        }

        .about-us, .report-problem {
            padding: 40px 0;
            text-align: center;
        }

        .report-btn {
            margin: 20px;
        }
    </style>
</head>

<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="/home">Home</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="listings.html">Buy <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/listings/createForm}">Sell</a>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    YouSell
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#about-us-section">About Us</a>
                    <a class="dropdown-item" href="#report-problem-section">Report a Problem</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" th:href="@{/userProfile(username=${username})}">View Profile</a>
                    <a class="dropdown-item" href="/reviews/review">Create a Review</a>
                </div>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
        <button id="darkModeToggle" class="btn btn-secondary ml-2">Dark Mode</button>
        <a href="/logout" class="btn btn-danger ml-2">Logout</a>
    </div>
</nav>

<!-- Carousel -->
<div id="carouselExampleControls" class="carousel slide mt-3" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://via.placeholder.com/1200x400?text=Welcome+to+YouSell" class="d-block w-100" alt="Welcome to YouSell">
        </div>
        <div class="carousel-item">
            <img src="https://via.placeholder.com/1200x400?text=Find+What+You+Need" class="d-block w-100" alt="Find What You Need">
        </div>
        <div class="carousel-item">
            <img src="https://via.placeholder.com/1200x400?text=Sell+Your+Items+Here" class="d-block w-100" alt="Sell Your Items Here">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- Welcome Section -->
<div class="welcome-text">
    <h1>Welcome to YouSell, <span th:text="${username}"></span>!</h1>
    <p>Your one-stop marketplace for buying and selling goods. Discover amazing deals or list your items today!</p>
</div>

<!-- About Us Section -->
<section id="about-us-section" class="about-us">
    <div class="container">
        <h2>About Us</h2>
        <p>YouSell is a dynamic platform connecting buyers and sellers in an easy-to-use, safe environment. We aim to make online commerce seamless, whether you're looking to find great deals or sell your items to a vast audience. Our commitment is to provide a trusted and user-friendly space for online transactions.</p>
    </div>
</section>
<!-- Report a Problem Section -->
<section id="report-problem-section" class="report-problem">
    <div class="container">
        <h2>Report a Problem</h2>
        <p>If you're experiencing any issues, please let us know by filling out the form below.</p>
        <form id="report-form" action="/report" method="post">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="problem-description">Description:</label>
                <textarea class="form-control" id="problem-description" name="description" rows="4" placeholder="Write your problem here..." required></textarea>
            </div>
            <button type="submit" class="btn btn-danger report-btn">Submit Report</button>
        </form>
    </div>
</section>

<!-- Pop-up Message (hidden initially) -->
<div id="popup-message" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.7); color: white; padding: 20px; border-radius: 10px;">
    Thank you for reporting the problem. We appreciate your feedback!
</div>

<!-- Footer -->
<div class="footer">
    <p>&copy; 2024 YouSell. All Rights Reserved.</p>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    // Dark mode toggle logic
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('click', function () {
        document.body.classList.toggle('dark-mode');
        const isDarkMode = document.body.classList.contains('dark-mode');
        darkModeToggle.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
    });
     document.getElementById('report-form').addEventListener('submit', function(event) {
        event.preventDefault();

        // Collect form data
        const formData = new FormData(event.target);
        const data = {};
        formData.forEach((value, key) => {
            data[key] = value;
        });



    // Get the form and the popup message element
    const form = document.getElementById('report-form');
    const popupMessage = document.getElementById('popup-message');

    // Add a submit event listener to the form
    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent form submission to show the pop-up first

        // Show the pop-up message
        popupMessage.style.display = 'block';

        // Optionally, submit the form after a short delay
        setTimeout(function() {
            form.submit(); // Submit the form after 2 seconds (you can adjust this delay)
        }, 2000);
    });
</script>


</body>

</html>
